var feedbackButton=document.querySelector(".feedback-form-btn"),popup=document.querySelector(".modal-feedback"),popupClose=popup.querySelector(".modal-close"),feedbackUserName=popup.querySelector(".feedback-user-name"),feedbackUserEmail=popup.querySelector(".feedback-user-email"),comment=popup.querySelector(".feedback-user-comment"),form=popup.querySelector(".feedback-form"),storageFeedbackName="",storageFeedbackEmail="",isLocalStorage=!0;popup.classList.remove("modal-feedback-no-js"),popupClose.classList.remove("modal-close-no-js"),feedbackUserName.removeAttribute("required"),feedbackUserEmail.removeAttribute("required"),feedbackButton.addEventListener("click",function(e){e.preventDefault(),popup.classList.add("modal-feedback-show");try{storageFeedbackName=localStorage.getItem("login"),storageFeedbackEmail=localStorage.getItem("email")}catch(e){isLocalStorage=!1}isLocalStorage&&(storageFeedbackName&&storageFeedbackEmail?(feedbackUserName.value=storageFeedbackName,feedbackUserEmail.value=storageFeedbackEmail,comment.focus()):storageFeedbackName?storageFeedbackEmail?storageFeedbackName||storageFeedbackEmail||feedbackUserName.focus():(storageFeedbackName&&(feedbackUserName.value=storageFeedbackName),feedbackUserEmail.focus()):(storageFeedbackEmail&&(feedbackUserEmail.value=storageFeedbackEmail),feedbackUserName.focus()))}),popupClose.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("modal-feedback-show"),popup.classList.remove("modal-feedback-error")}),form.addEventListener("submit",function(e){feedbackUserName.value&&feedbackUserEmail.value?isLocalStorage&&(localStorage.setItem("login",feedbackUserName.value),localStorage.setItem("email",feedbackUserEmail.value)):(e.preventDefault(),popup.classList.remove("modal-feedback-error"),popup.offsetWidth=popup.offsetWidth,popup.classList.add("modal-feedback-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&popup.classList.contains("modal-feedback-show")&&(e.preventDefault(),popup.classList.remove("modal-feedback-show"),popup.classList.remove("modal-feedback-error"))});
